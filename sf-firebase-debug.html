<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase Debug - SociallyFounded</title>
    <style>
        body {
            font-family: monospace;
            padding: 20px;
            background: #1a1a1a;
            color: #0f0;
            line-height: 1.6;
        }
        .section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #0f0;
            background: rgba(0,255,0,0.05);
        }
        .error { color: #f00; }
        .success { color: #0f0; }
        .warning { color: #ff0; }
        .info { color: #0ff; }
        h2 { color: #0ff; }
        button {
            background: #0f0;
            color: #000;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            cursor: pointer;
            font-family: monospace;
            font-weight: bold;
        }
        button:hover {
            background: #0ff;
        }
        pre {
            background: #000;
            padding: 10px;
            overflow: auto;
        }
    </style>
</head>
<body>
    <h1>üîç Firebase Debug Console</h1>
    
    <div class="section">
        <h2>1. Browser Environment</h2>
        <div id="browserInfo"></div>
    </div>
    
    <div class="section">
        <h2>2. Script Loading Test</h2>
        <div id="scriptTest"></div>
        <button onclick="testScriptLoading()">Test Script Loading</button>
    </div>
    
    <div class="section">
        <h2>3. Firebase Detection</h2>
        <div id="firebaseDetection"></div>
        <button onclick="detectFirebase()">Detect Firebase</button>
    </div>
    
    <div class="section">
        <h2>4. Alternative Loading Methods</h2>
        <button onclick="loadMethod1()">Method 1: Dynamic Script</button>
        <button onclick="loadMethod2()">Method 2: Module Import</button>
        <button onclick="loadMethod3()">Method 3: Different CDN</button>
    </div>
    
    <div class="section">
        <h2>5. Results</h2>
        <pre id="results"></pre>
    </div>
    
    <script>
        const results = document.getElementById('results');
        
        // Check browser info
        document.getElementById('browserInfo').innerHTML = `
            <div class="info">User Agent: ${navigator.userAgent}</div>
            <div class="info">Platform: ${navigator.platform}</div>
            <div class="info">Online: ${navigator.onLine ? 'Yes' : 'No'}</div>
        `;
        
        function log(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            results.innerHTML += `<div class="${type}">[${timestamp}] ${message}</div>`;
            results.scrollTop = results.scrollHeight;
        }
        
        // Test script loading
        function testScriptLoading() {
            log('Testing script loading...', 'info');
            
            const testUrl = 'https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js';
            
            fetch(testUrl, { method: 'HEAD' })
                .then(response => {
                    if (response.ok) {
                        log(`‚úì Script accessible: ${testUrl}`, 'success');
                        log(`Headers: ${response.headers.get('content-type')}`, 'info');
                    } else {
                        log(`‚úó Script not accessible: ${response.status}`, 'error');
                    }
                })
                .catch(error => {
                    log(`‚úó Fetch error: ${error.message}`, 'error');
                });
        }
        
        // Detect Firebase
        function detectFirebase() {
            log('Detecting Firebase...', 'info');
            
            if (typeof firebase !== 'undefined') {
                log('‚úì Firebase is defined!', 'success');
                log(`Version: ${firebase.SDK_VERSION || 'Unknown'}`, 'info');
                
                // Try to initialize
                try {
                    const firebaseConfig = {
                        apiKey: "AIzaSyAkYSmo9aGyF9IDKXej9p_j6FZfV0SCNG0",
                        authDomain: "sociallyfounded-df98f.firebaseapp.com",
                        projectId: "sociallyfounded-df98f",
                        storageBucket: "sociallyfounded-df98f.firebasestorage.app",
                        messagingSenderId: "994533610259",
                        appId: "1:994533610259:web:fe740378a4c000211e40e6"
                    };
                    
                    firebase.initializeApp(firebaseConfig);
                    log('‚úì Firebase initialized successfully!', 'success');
                    
                    const auth = firebase.auth();
                    const db = firebase.firestore();
                    log('‚úì Auth and Firestore ready!', 'success');
                    
                } catch (error) {
                    log(`‚úó Init error: ${error.message}`, 'error');
                }
            } else {
                log('‚úó Firebase is not defined', 'error');
                log('Window properties:', 'info');
                log(Object.keys(window).filter(k => k.includes('firebase')).join(', ') || 'No firebase properties found', 'warning');
            }
        }
        
        // Method 1: Dynamic script loading
        function loadMethod1() {
            log('Method 1: Dynamic script loading...', 'info');
            
            const script = document.createElement('script');
            script.src = 'https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js';
            
            script.onload = () => {
                log('‚úì Script loaded successfully', 'success');
                detectFirebase();
            };
            
            script.onerror = () => {
                log('‚úó Script failed to load', 'error');
            };
            
            document.head.appendChild(script);
        }
        
        // Method 2: Try module imports
        async function loadMethod2() {
            log('Method 2: Module import...', 'info');
            
            try {
                const module = await import('https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js');
                log('‚úì Module imported successfully', 'success');
                log(`Module keys: ${Object.keys(module).join(', ')}`, 'info');
            } catch (error) {
                log(`‚úó Module import failed: ${error.message}`, 'error');
            }
        }
        
        // Method 3: Alternative CDN
        function loadMethod3() {
            log('Method 3: Alternative CDN...', 'info');
            
            const script = document.createElement('script');
            script.src = 'https://cdn.jsdelivr.net/npm/firebase@9.22.0/firebase-app-compat.js';
            
            script.onload = () => {
                log('‚úì Alternative CDN loaded successfully', 'success');
                detectFirebase();
            };
            
            script.onerror = () => {
                log('‚úó Alternative CDN failed', 'error');
            };
            
            document.head.appendChild(script);
        }
        
        // Auto-detect on load
        window.addEventListener('load', () => {
            log('Page loaded, checking for Firebase...', 'info');
            setTimeout(detectFirebase, 1000);
        });
    </script>
    
    <!-- Try loading Firebase normally -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
</body>
</html>
