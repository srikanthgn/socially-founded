<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Member Dashboard - SociallyFounded</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script src="/js/sf-firebase-integration.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: #FFFFFF;
            color: #003554;
            line-height: 1.6;
        }

        /* Header */
        .header {
            background: #FFFFFF;
            padding: 15px 20px;
            border-bottom: 1px solid #E0E0E0;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .logo {
            height: 40px;
            font-weight: 700;
            font-size: 24px;
            color: #003554;
            text-decoration: none;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .sf-passport {
            background: linear-gradient(135deg, #003554 0%, #004a6b 100%);
            color: #FFFFFF;
            padding: 8px 16px;
            border-radius: 25px;
            font-weight: 500;
            font-size: 14px;
        }

        .sf-points {
            background: #D4AF37;
            color: #FFFFFF;
            padding: 8px 16px;
            border-radius: 25px;
            font-weight: 500;
            font-size: 14px;
        }

        /* Main Content */
        .main-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px;
        }

        .welcome-section {
            text-align: center;
            margin-bottom: 40px;
        }

        .welcome-title {
            font-size: 32px;
            font-weight: 700;
            color: #003554;
            margin-bottom: 10px;
        }

        .welcome-subtitle {
            font-size: 18px;
            color: #666666;
            margin-bottom: 20px;
        }

        /* Community Grid */
        .community-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .community-card {
            background: #FFFFFF;
            border: 2px solid #E0E0E0;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .community-card:hover {
            border-color: #D4AF37;
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,53,84,0.1);
        }

        .community-card.entrepreneur {
            background: linear-gradient(135deg, #D4AF37 0%, #B8941F 100%);
            color: #FFFFFF;
            border-color: #D4AF37;
        }

        .community-card.entrepreneur .premium-badge {
            position: absolute;
            top: -10px;
            right: -10px;
            background: #003554;
            color: #FFFFFF;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: 600;
        }

        .community-icon {
            font-size: 48px;
            margin-bottom: 15px;
            color: #003554;
        }

        .entrepreneur .community-icon {
            color: #FFFFFF;
        }

        .community-name {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .community-description {
            font-size: 14px;
            opacity: 0.8;
            margin-bottom: 15px;
        }

        .join-button {
            background: #003554;
            color: #FFFFFF;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .join-button:hover {
            background: #004a6b;
        }

        .entrepreneur .join-button {
            background: #FFFFFF;
            color: #D4AF37;
        }

        .entrepreneur .join-button:hover {
            background: #F5F5F5;
        }

        /* DIANA AI Section */
        .diana-section {
            background: linear-gradient(135deg, #003554 0%, #004a6b 100%);
            border-radius: 20px;
            padding: 30px;
            color: #FFFFFF;
            margin-bottom: 40px;
            text-align: center;
        }

        .diana-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 3px solid #D4AF37;
            margin: 0 auto 20px;
            background: #D4AF37;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            color: #003554;
        }

        .diana-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .diana-subtitle {
            font-size: 16px;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .credits-display {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 10px 20px;
            border-radius: 25px;
            margin-bottom: 20px;
        }

        .try-diana-button {
            background: #D4AF37;
            color: #003554;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .try-diana-button:hover {
            background: #B8941F;
        }

        .try-diana-button:disabled {
            background: #666666;
            color: #FFFFFF;
            cursor: not-allowed;
        }

        /* Venue Discovery */
        .venue-section {
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #003554;
        }

        .venue-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .venue-card {
            background: #FFFFFF;
            border: 1px solid #E0E0E0;
            border-radius: 15px;
            padding: 20px;
            transition: all 0.3s ease;
        }

        .venue-card:hover {
            border-color: #D4AF37;
            box-shadow: 0 5px 15px rgba(0,53,84,0.1);
        }

        .venue-name {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .venue-type {
            color: #666666;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .venue-communities {
            display: flex;
            gap: 5px;
            margin-bottom: 15px;
        }

        .community-tag {
            background: #F5F5F5;
            color: #003554;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 12px;
        }

        .checkin-button {
            background: #D4AF37;
            color: #FFFFFF;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 500;
            cursor: pointer;
            width: 100%;
        }

        .checkin-button:hover {
            background: #B8941F;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .community-grid {
                grid-template-columns: 1fr;
            }
            
            .venue-grid {
                grid-template-columns: 1fr;
            }
            
            .welcome-title {
                font-size: 24px;
            }
            
            .header-content {
                flex-direction: column;
                gap: 15px;
            }
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
        }

        .modal-content {
            background: #FFFFFF;
            margin: 5% auto;
            padding: 30px;
            border-radius: 15px;
            max-width: 600px;
            position: relative;
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 24px;
            cursor: pointer;
            color: #666666;
        }

        .diana-chat {
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #E0E0E0;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .chat-message {
            margin-bottom: 15px;
        }

        .user-message {
            text-align: right;
            color: #003554;
        }

        .diana-message {
            text-align: left;
            color: #666666;
        }

        .chat-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #E0E0E0;
            border-radius: 25px;
            font-family: 'Poppins', sans-serif;
            font-size: 16px;
        }

        .chat-input:focus {
            outline: none;
            border-color: #D4AF37;
        }

        .send-button {
            background: #D4AF37;
            color: #FFFFFF;
            border: none;
            padding: 15px 25px;
            border-radius: 25px;
            margin-left: 10px;
            cursor: pointer;
            font-weight: 500;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
               <a href="/" class="logo">
    <img src="/assets/sf-logo.png" alt="SociallyFounded" style="height: 40px;">
</a>
            <div class="user-info">
                <div class="sf-passport" id="passport-display">SF-1234567-AE</div>
                <div class="sf-points" id="points-display">250 SF Points</div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Welcome Section -->
        <section class="welcome-section">
            <h1 class="welcome-title">Find Your Tribe in Spaces You Love</h1>
            <p class="welcome-subtitle">Join thriving communities across Dubai and accelerate meaningful connections</p>
        </section>

        <!-- Community Selection Grid -->
        <section class="community-selection">
            <h2 class="section-title">Discover Your Communities</h2>
            <div class="community-grid">
                <!-- Professional Community -->
                <div class="community-card professional" onclick="joinCommunity('professional')">
                    <div class="community-icon"><i class="fas fa-briefcase"></i></div>
                    <h3 class="community-name">Professional</h3>
                    <p class="community-description">Connect with industry peers, advance your career, share expertise</p>
                    <button class="join-button">Explore Professional Community</button>
                </div>

                <!-- Creative Community -->
                <div class="community-card creative" onclick="joinCommunity('creative')">
                    <div class="community-icon"><i class="fas fa-palette"></i></div>
                    <h3 class="community-name">Creative</h3>
                    <p class="community-description">Collaborate with artists, writers, designers, and makers</p>
                    <button class="join-button">Explore Creative Community</button>
                </div>

                <!-- Entrepreneur Community (Premium Featured) -->
                <div class="community-card entrepreneur" onclick="joinCommunity('entrepreneur')">
                    <div class="premium-badge">PREMIUM</div>
                    <div class="community-icon"><i class="fas fa-rocket"></i></div>
                    <h3 class="community-name">Entrepreneur</h3>
                    <p class="community-description">Build startups with AI co-founder DIANA and community support</p>
                    <button class="join-button">Start Building with DIANA AI</button>
                </div>

                <!-- Neighborhood Community -->
                <div class="community-card neighborhood" onclick="joinCommunity('neighborhood')">
                    <div class="community-icon"><i class="fas fa-home"></i></div>
                    <h3 class="community-name">Neighborhood</h3>
                    <p class="community-description">Connect with local residents and build stronger communities</p>
                    <button class="join-button">Explore Neighborhood</button>
                </div>

                <!-- Remote Worker Community -->
                <div class="community-card remote" onclick="joinCommunity('remote')">
                    <div class="community-icon"><i class="fas fa-laptop"></i></div>
                    <h3 class="community-name">Remote Worker</h3>
                    <p class="community-description">Find co-working partners and productive workspace connections</p>
                    <button class="join-button">Find Co-workers</button>
                </div>

                <!-- Learning Community -->
                <div class="community-card learning" onclick="joinCommunity('learning')">
                    <div class="community-icon"><i class="fas fa-book"></i></div>
                    <h3 class="community-name">Learning</h3>
                    <p class="community-description">Join study groups, skill exchanges, and educational communities</p>
                    <button class="join-button">Start Learning</button>
                </div>

                <!-- Lifestyle Community -->
                <div class="community-card lifestyle" onclick="joinCommunity('lifestyle')">
                    <div class="community-icon"><i class="fas fa-heart"></i></div>
                    <h3 class="community-name">Lifestyle</h3>
                    <p class="community-description">Connect over fitness, food, travel, and shared interests</p>
                    <button class="join-button">Explore Lifestyle</button>
                </div>
            </div>
        </section>

        <!-- DIANA AI Section -->
        <section class="diana-section">
            <div class="diana-avatar">
                <i class="fas fa-brain"></i>
            </div>
            <h2 class="diana-title">Meet DIANA - Your AI Community Catalyst</h2>
            <p class="diana-subtitle">Intelligent community matching and entrepreneurship support</p>
            <div class="credits-display" id="diana-credits">3 daily brainstorms available</div>
            <button class="try-diana-button" onclick="openDianaChat()">Ask DIANA Anything</button>
        </section>

        <!-- Venue Discovery -->
        <section class="venue-section">
            <h2 class="section-title">Discover Community Spaces</h2>
            <div class="venue-grid">
                <div class="venue-card">
                    <h3 class="venue-name">The Coffee Lab</h3>
                    <p class="venue-type">Specialty Coffee Shop • Business Bay</p>
                    <div class="venue-communities">
                        <span class="community-tag">Professional</span>
                        <span class="community-tag">Remote Work</span>
                        <span class="community-tag">Creative</span>
                    </div>
                    <button class="checkin-button" onclick="checkIn('coffee-lab')">Check In (+2 SF Points)</button>
                </div>

                <div class="venue-card">
                    <h3 class="venue-name">Innovation Hub DIFC</h3>
                    <p class="venue-type">Co-working Space • DIFC</p>
                    <div class="venue-communities">
                        <span class="community-tag">Entrepreneur</span>
                        <span class="community-tag">Professional</span>
                        <span class="community-tag">Remote Work</span>
                    </div>
                    <button class="checkin-button" onclick="checkIn('innovation-hub')">Check In (+2 SF Points)</button>
                </div>

                <div class="venue-card">
                    <h3 class="venue-name">Alserkal Art District</h3>
                    <p class="venue-type">Creative Space • Al Quoz</p>
                    <div class="venue-communities">
                        <span class="community-tag">Creative</span>
                        <span class="community-tag">Learning</span>
                        <span class="community-tag">Neighborhood</span>
                    </div>
                    <button class="checkin-button" onclick="checkIn('alserkal')">Check In (+2 SF Points)</button>
                </div>
            </div>
        </section>
    </main>

    <!-- DIANA Chat Modal -->
    <div class="modal" id="diana-modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeDianaChat()">&times;</span>
            <h2>Chat with DIANA</h2>
            <div class="diana-chat" id="chat-container">
                <div class="chat-message diana-message">
                    <strong>DIANA:</strong> Hi! I'm DIANA, your AI community catalyst. I can help you with community connections, startup ideas, professional networking, and cross-community collaboration. What would you like to explore today?
                </div>
            </div>
            <div style="display: flex; align-items: center;">
                <input type="text" class="chat-input" id="chat-input" placeholder="Ask DIANA about communities, startups, networking..." onkeypress="handleChatKeypress(event)">
                <button class="send-button" onclick="sendMessage()">Send</button>
            </div>
        </div>
    </div>

    <script>
        // User data simulation
        let userData = {
            passportId: 'SF-1234567-AE',
            sfPoints: 250,
            dianaCredits: 3,
            joinedCommunities: [],
            dailyStreak: 1
        };

        // Update display
        function updateDisplay() {
            document.getElementById('passport-display').textContent = userData.passportId;
            document.getElementById('points-display').textContent = `${userData.sfPoints} SF Points`;
            document.getElementById('diana-credits').textContent = `${userData.dianaCredits} daily brainstorms available`;
        }

        // Community joining
        function joinCommunity(communityType) {
            if (!userData.joinedCommunities.includes(communityType)) {
                userData.joinedCommunities.push(communityType);
                userData.sfPoints += 10; // Bonus for joining new community
                
                if (communityType === 'entrepreneur') {
                    alert('🚀 Welcome to the Entrepreneur Community! You now have access to DIANA AI brainstorming, mentor matching, and investor connections. Your first 3 sessions are free daily!');
                } else {
                    alert(`🎉 Welcome to the ${communityType.charAt(0).toUpperCase() + communityType.slice(1)} Community! You earned 10 SF Points. Start connecting with like-minded people in your area.`);
                }
                
                updateDisplay();
            } else {
                alert(`You're already part of the ${communityType} community! Check out events and connect with members.`);
            }
        }

        // Venue check-in
        function checkIn(venueId) {
            userData.sfPoints += 2;
            userData.dailyStreak += 1;
            
            const venueNames = {
                'coffee-lab': 'The Coffee Lab',
                'innovation-hub': 'Innovation Hub DIFC', 
                'alserkal': 'Alserkal Art District'
            };
            
            alert(`✅ Checked in at ${venueNames[venueId]}! You earned 2 SF Points. Look for other community members nearby!`);
            updateDisplay();
        }

        // DIANA Chat functionality
        function openDianaChat() {
            if (userData.dianaCredits <= 0) {
                alert('💡 You\'ve used your daily DIANA credits! Earn more by:\n• Checking in at venues (+1 credit per 3 hours)\n• Helping community members (+1 credit)\n• Cross-community connections (+2 credits)\n\nOr upgrade to Premium for unlimited access!');
                return;
            }
            document.getElementById('diana-modal').style.display = 'block';
        }

        function closeDianaChat() {
            document.getElementById('diana-modal').style.display = 'none';
        }

        function handleChatKeypress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function sendMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            
            if (!message) return;
            
            if (userData.dianaCredits <= 0) {
                alert('No DIANA credits remaining! Earn more through community engagement.');
                return;
            }

            // Add user message
            const chatContainer = document.getElementById('chat-container');
            chatContainer.innerHTML += `
                <div class="chat-message user-message">
                    <strong>You:</strong> ${message}
                </div>
            `;

            // Simulate DIANA response (in real implementation, this would call OpenAI API)
            setTimeout(() => {
                let response = getDianaResponse(message);
                chatContainer.innerHTML += `
                    <div class="chat-message diana-message">
                        <strong>DIANA:</strong> ${response}
                    </div>
                `;
                chatContainer.scrollTop = chatContainer.scrollHeight;
                
                // Use a credit
                userData.dianaCredits -= 1;
                updateDisplay();
            }, 1000);

            input.value = '';
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function getDianaResponse(message) {
            const lowerMessage = message.toLowerCase();
            
            if (lowerMessage.includes('startup') || lowerMessage.includes('business') || lowerMessage.includes('idea')) {
                return "🚀 Great to hear you're interested in startups! As an entrepreneur community member, I can help you validate ideas, connect with potential co-founders, and prepare for investor meetings. What specific aspect of your startup journey would you like to explore? I can also connect you with mentors in your industry through our professional community.";
            }
            
            if (lowerMessage.includes('community') || lowerMessage.includes('connect') || lowerMessage.includes('network')) {
                return "🤝 Community connections are powerful! Based on your interests, I can suggest cross-community opportunities. For example, if you're in the professional community, you might find creative collaborators for marketing projects, or neighborhood connections for local business insights. Which communities interest you most?";
            }
            
            if (lowerMessage.includes('venue') || lowerMessage.includes('space') || lowerMessage.includes('coffee')) {
                return "📍 Finding the right spaces for community building is key! I recommend checking in at venues that align with your communities. Coffee shops are great for professional networking, co-working spaces foster entrepreneur connections, and creative venues spark innovation. Which type of environment energizes you most?";
            }
            
            return "That's an interesting question! As your AI community catalyst, I'm here to help you navigate all aspects of community building, professional development, and entrepreneurship. Could you be more specific about what you'd like to explore? I can help with networking strategies, startup ideas, community events, or venue recommendations.";
        }

        // Initialize
        updateDisplay();

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('diana-modal');
            if (event.target === modal) {
                closeDianaChat();
            }
        }
    </script>
    <script>
// Make sure everything loads properly
document.addEventListener('DOMContentLoaded', () => {
    console.log('🚀 SociallyFounded Dashboard Loading...');
});
</script>
</body>
</html>
