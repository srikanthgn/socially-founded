<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SociallyFounded - My Passport</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --navy: #003554;
            --light-gray: #F5F5F5;
            --accent-gray: #E0E0E0;
            --white: #FFFFFF;
            --success: #10B981;
            --warning: #F59E0B;
            --gold: #D4AF37;
            --bronze: #CD7F32;
            --silver: #C0C0C0;
            --platinum: #E5E4E2;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(--light-gray);
            min-height: 100vh;
        }

        .header {
            background: linear-gradient(135deg, var(--navy) 0%, #004a6b 100%);
            color: var(--white);
            padding: 20px;
            text-align: center;
        }

        .passport-card {
            background: linear-gradient(135deg, var(--navy), #004a6b);
            color: var(--white);
            margin: -30px 20px 20px;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 53, 84, 0.3);
            position: relative;
            overflow: hidden;
        }

        .passport-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="2" fill="rgba(255,255,255,0.1)"/></svg>') repeat;
            animation: float 20s linear infinite;
        }

        @keyframes float {
            0% { transform: translateX(-50px) translateY(-50px); }
            100% { transform: translateX(0px) translateY(0px); }
        }

        .passport-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 25px;
            position: relative;
            z-index: 2;
        }

        .passport-avatar {
            width: 80px;
            height: 80px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            font-weight: 700;
            border: 3px solid rgba(255, 255, 255, 0.3);
        }

        .passport-info h2 {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .passport-id {
            font-family: 'Courier New', monospace;
            font-size: 16px;
            opacity: 0.9;
            letter-spacing: 2px;
        }

        .tier-badge {
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            display: inline-block;
            margin-top: 10px;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 20px;
            position: relative;
            z-index: 2;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 5px;
            color: var(--gold);
        }

        .stat-label {
            font-size: 12px;
            opacity: 0.8;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .main-content {
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
        }

        .section {
            background: var(--white);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--navy);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .level-progress {
            margin-bottom: 30px;
        }

        .level-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .current-level {
            font-size: 20px;
            font-weight: 700;
            color: var(--navy);
        }

        .xp-info {
            font-size: 14px;
            color: #666;
        }

        .progress-bar {
            width: 100%;
            height: 12px;
            background: var(--accent-gray);
            border-radius: 6px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--success), var(--gold));
            border-radius: 6px;
            transition: width 0.3s ease;
        }

        .tier-benefits {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .benefit-card {
            background: var(--light-gray);
            padding: 15px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .benefit-icon {
            width: 40px;
            height: 40px;
            background: var(--navy);
            color: var(--white);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }

        .benefit-text {
            flex: 1;
        }

        .benefit-title {
            font-weight: 600;
            color: var(--navy);
            font-size: 14px;
            margin-bottom: 2px;
        }

        .benefit-desc {
            font-size: 12px;
            color: #666;
        }

        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 15px;
        }

        .achievement {
            text-align: center;
            padding: 15px 10px;
            border-radius: 8px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .achievement.earned {
            background: linear-gradient(135deg, var(--gold), var(--warning));
            color: var(--white);
            transform: scale(1.05);
        }

        .achievement.locked {
            background: var(--accent-gray);
            color: #999;
        }

        .achievement-icon {
            font-size: 32px;
            margin-bottom: 8px;
        }

        .achievement-name {
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 2px;
        }

        .achievement-desc {
            font-size: 10px;
            opacity: 0.8;
        }

        .venue-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .venue-stat {
            background: var(--light-gray);
            padding: 15px;
            border-radius: 8px;
        }

        .venue-name {
            font-weight: 600;
            color: var(--navy);
            margin-bottom: 8px;
            font-size: 14px;
        }

        .venue-metrics {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .venue-points {
            font-size: 18px;
            font-weight: 700;
            color: var(--gold);
        }

        .venue-visits {
            font-size: 12px;
            color: #666;
        }

        .nav-tabs {
            display: flex;
            background: var(--white);
            border-radius: 12px;
            padding: 4px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .nav-tab {
            flex: 1;
            padding: 12px;
            text-align: center;
            border-radius: 8px;
            font-weight: 500;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #666;
        }

        .nav-tab.active {
            background: var(--navy);
            color: var(--white);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        @media (max-width: 768px) {
            .passport-card {
                margin: -20px 15px 20px;
                padding: 20px;
            }
            
            .passport-header {
                flex-direction: column;
                text-align: center;
                gap: 15px;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
            
            .main-content {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>My SF Passport</h1>
    </div>

    <div class="passport-card">
        <div class="passport-header">
            <div class="passport-avatar" id="userAvatar">SF</div>
            <div class="passport-info">
                <h2 id="userName">SF Member</h2>
                <div class="passport-id" id="passportId">SF-XXXXXX</div>
                <div class="tier-badge" id="tierBadge">Navy Tier • Level 1</div>
            </div>
        </div>
        
        <div class="stats-grid">
            <div class="stat-item">
                <div class="stat-value" id="totalPoints">0</div>
                <div class="stat-label">Total Points</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="totalHours">0h</div>
                <div class="stat-label">Hours Worked</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="venuesVisited">0</div>
                <div class="stat-label">Venues</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="currentStreak">0</div>
                <div class="stat-label">Day Streak</div>
            </div>
        </div>
    </div>

    <div class="main-content">
        <div class="nav-tabs">
            <div class="nav-tab active" data-tab="progress">Progress</div>
            <div class="nav-tab" data-tab="achievements">Achievements</div>
            <div class="nav-tab" data-tab="venues">My Venues</div>
        </div>

        <!-- Progress Tab -->
        <div class="tab-content active" id="progress">
            <div class="section">
                <div class="section-title">
                    <i class="fas fa-chart-line"></i>
                    Level Progress
                </div>
                
                <div class="level-progress">
                    <div class="level-info">
                        <div class="current-level" id="currentLevel">Level 1</div>
                        <div class="xp-info" id="xpInfo">0 / 100 XP</div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                    </div>
                </div>

                <div class="section-title">
                    <i class="fas fa-crown"></i>
                    Navy Tier Benefits
                </div>
                
                <div class="tier-benefits">
                    <div class="benefit-card">
                        <div class="benefit-icon"><i class="fas fa-map-marker-alt"></i></div>
                        <div class="benefit-text">
                            <div class="benefit-title">Venue Check-ins</div>
                            <div class="benefit-desc">Earn points for time spent working</div>
                        </div>
                    </div>
                    <div class="benefit-card">
                        <div class="benefit-icon"><i class="fas fa-users"></i></div>
                        <div class="benefit-text">
                            <div class="benefit-title">Social Networking</div>
                            <div class="benefit-desc">Connect with other entrepreneurs</div>
                        </div>
                    </div>
                    <div class="benefit-card">
                        <div class="benefit-icon"><i class="fas fa-star"></i></div>
                        <div class="benefit-text">
                            <div class="benefit-title">Venue Reviews</div>
                            <div class="benefit-desc">Rate and review workspaces</div>
                        </div>
                    </div>
                    <div class="benefit-card">
                        <div class="benefit-icon"><i class="fas fa-gift"></i></div>
                        <div class="benefit-text">
                            <div class="benefit-title">Bronze Rewards</div>
                            <div class="benefit-desc">Basic loyalty program access</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Achievements Tab -->
        <div class="tab-content" id="achievements">
            <div class="section">
                <div class="section-title">
                    <i class="fas fa-trophy"></i>
                    Achievements
                </div>
                
                <div class="achievements-grid">
                    <div class="achievement earned" data-achievement="first-checkin">
                        <div class="achievement-icon">🎯</div>
                        <div class="achievement-name">First Check-in</div>
                        <div class="achievement-desc">Welcome to SF!</div>
                    </div>
                    <div class="achievement locked" data-achievement="week-streak">
                        <div class="achievement-icon">📅</div>
                        <div class="achievement-name">Week Warrior</div>
                        <div class="achievement-desc">7-day streak</div>
                    </div>
                    <div class="achievement locked" data-achievement="social-butterfly">
                        <div class="achievement-icon">🦋</div>
                        <div class="achievement-name">Social Butterfly</div>
                        <div class="achievement-desc">50 connections</div>
                    </div>
                    <div class="achievement locked" data-achievement="venue-explorer">
                        <div class="achievement-icon">🗺️</div>
                        <div class="achievement-name">Venue Explorer</div>
                        <div class="achievement-desc">Visit 25 venues</div>
                    </div>
                    <div class="achievement locked" data-achievement="time-master">
                        <div class="achievement-icon">⏰</div>
                        <div class="achievement-name">Time Master</div>
                        <div class="achievement-desc">100 hours worked</div>
                    </div>
                    <div class="achievement locked" data-achievement="community-builder">
                        <div class="achievement-icon">🏗️</div>
                        <div class="achievement-name">Community Builder</div>
                        <div class="achievement-desc">Add 5 venues</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Venues Tab -->
        <div class="tab-content" id="venues">
            <div class="section">
                <div class="section-title">
                    <i class="fas fa-map-marker-alt"></i>
                    My Venue Stats
                </div>
                
                <div class="venue-stats" id="venueStats">
                    <!-- Populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <script>
        class SFPassport {
            constructor() {
                this.userData = {};
                this.achievements = {
                    'first-checkin': { name: 'First Check-in', desc: 'Welcome to SF!', icon: '🎯', earned: false },
                    'week-streak': { name: 'Week Warrior', desc: '7-day streak', icon: '📅', earned: false },
                    'social-butterfly': { name: 'Social Butterfly', desc: '50 connections', icon: '🦋', earned: false },
                    'venue-explorer': { name: 'Venue Explorer', desc: 'Visit 25 venues', icon: '🗺️', earned: false },
                    'time-master': { name: 'Time Master', desc: '100 hours worked', icon: '⏰', earned: false },
                    'community-builder': { name: 'Community Builder', desc: 'Add 5 venues', icon: '🏗️', earned: false }
                };
                
                this.initializeUser();
                this.initializeTabs();
                this.updateDisplay();
            }

            initializeUser() {
                const userData = JSON.parse(localStorage.getItem('sf_user'));
                if (userData) {
                    this.userData = userData;
                    // Check for first check-in achievement
                    if (userData.passport.totalCheckIns > 0) {
                        this.achievements['first-checkin'].earned = true;
                    }
                } else {
                    // Default user data
                    this.userData = {
                        passportId: 'SF-DEMO01',
                        passport: {
                            level: 1,
                            experience: 0,
                            tier: 'Navy',
                            totalCheckIns: 0,
                            currentStreak: 0
                        },
                        loyaltyProgram: {
                            totalPoints: 0,
                            venuePoints: {}
                        }
                    };
                }
            }

            updateDisplay() {
                // Update passport header
                document.getElementById('passportId').textContent = this.userData.passportId;
                document.getElementById('tierBadge').textContent = 
                    `${this.userData.passport.tier} Tier • Level ${this.userData.passport.level}`;

                // Update stats
                document.getElementById('totalPoints').textContent = this.userData.loyaltyProgram.totalPoints;
                document.getElementById('totalHours').textContent = this.calculateTotalHours();
                document.getElementById('venuesVisited').textContent = Object.keys(this.userData.loyaltyProgram.venuePoints).length;
                document.getElementById('currentStreak').textContent = this.userData.passport.currentStreak;

                // Update level progress
                const currentLevel = this.userData.passport.level;
                const currentXP = this.userData.passport.experience;
                const xpForNextLevel = currentLevel * 100;
                const progressPercent = (currentXP % xpForNextLevel) / xpForNextLevel * 100;

                document.getElementById('currentLevel').textContent = `Level ${currentLevel}`;
                document.getElementById('xpInfo').textContent = `${currentXP} / ${xpForNextLevel} XP`;
                document.getElementById('progressFill').style.width = `${progressPercent}%`;

                // Update achievements
                this.updateAchievements();
                
                // Update venue stats
                this.updateVenueStats();
            }

            calculateTotalHours() {
                // Estimate based on check-ins and points
                const avgSessionPoints = 50; // Average points per session
                const estimatedSessions = Math.floor(this.userData.loyaltyProgram.totalPoints / avgSessionPoints);
                const estimatedHours = estimatedSessions * 2; // Assume 2h average per session
                return `${estimatedHours}h`;
            }

            updateAchievements() {
                Object.keys(this.achievements).forEach(key => {
                    const achievement = this.achievements[key];
                    const element = document.querySelector(`[data-achievement="${key}"]`);
                    if (element) {
                        element.className = `achievement ${achievement.earned ? 'earned' : 'locked'}`;
                    }
                });
            }

            updateVenueStats() {
                const venueStats = document.getElementById('venueStats');
                venueStats.innerHTML = '';

                const venuePoints = this.userData.loyaltyProgram.venuePoints;
                
                if (Object.keys(venuePoints).length === 0) {
                    venueStats.innerHTML = '<p style="text-align: center; color: #666; padding: 40px;">No venue visits yet. Start checking in to see your stats!</p>';
                    return;
                }

                // Mock venue names for demo
                const venueNames = {
                    'venue-001': 'Brew & Bytes Cafe',
                    'venue-002': 'WorkHub Downtown',
                    'venue-003': 'Public Library JLT'
                };

                Object.entries(venuePoints).forEach(([venueId, points]) => {
                    const venueName = venueNames[venueId] || 'Unknown Venue';
                    const visits = Math.floor(points / 30); // Estimate visits

                    const venueDiv = document.createElement('div');
                    venueDiv.className = 'venue-stat';
                    venueDiv.innerHTML = `
                        <div class="venue-name">${venueName}</div>
                        <div class="venue-metrics">
                            <div class="venue-points">${points} pts</div>
                            <div class="venue-visits">${visits} visits</div>
                        </div>
                    `;
                    venueStats.appendChild(venueDiv);
                });
            }

            initializeTabs() {
                document.querySelectorAll('.nav-tab').forEach(tab => {
                    tab.addEventListener('click', () => {
                        // Remove active from all tabs and content
                        document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                        document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                        
                        // Add active to clicked tab and corresponding content
                        tab.classList.add('active');
                        document.getElementById(tab.dataset.tab).classList.add('active');
                    });
                });
            }
        }

        // Initialize passport system
        const sfPassport = new SFPassport();

        // Auto-refresh data every 30 seconds
        setInterval(() => {
            sfPassport.initializeUser();
            sfPassport.updateDisplay();
        }, 30000);
    </script>
</body>
</html>
